{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment, useEffect, useState } from 'react';\nimport Layout from '../components/layout/Layout';\nimport MeetupList from '../components/meetups/MeetupList';\nimport { MongoClient } from 'mongodb';\nimport Head from 'next/head';\n\nfunction HomePage(props) {\n  // const  [loadedMeetup,setLoadedMeetup] = useState([])\n  // useEffect(()=>{\n  //     //send a http request on fetch data \n  //     //set the setup that we fetch the meetup server as meetup for this component \n  //     setLoadedMeetup(DUMMY_MEETUP);\n  // },[])\n  return /*#__PURE__*/_jsxs(Fragment, {\n    children: [/*#__PURE__*/_jsxs(Head, {\n      children: [/*#__PURE__*/_jsx(\"title\", {\n        children: \"React MeetUp\"\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"description\",\n        content: \"High active React Meetup\"\n      })]\n    }), /*#__PURE__*/_jsx(MeetupList, {\n      meetups: props.meetups\n    })]\n  });\n} //never execute on the client side \n\n\nexport async function getStaticProps() {\n  //Fetch data from data API\n  const client = await MongoClient.connect('mongodb+srv://user_0:ffang2198@cluster0.1hgvdjv.mongodb.net/?retryWrites=true&w=majority');\n  const db = client.db();\n  const meetsupCollection = db.collection('meetups');\n  const meetups = await meetsupCollection.find().toArray();\n  client.close();\n  return {\n    props: {\n      meetups: meetups.map(meetup => ({\n        title: meetup.title,\n        address: meetup.address,\n        image: meetup.image,\n        id: meetup._id.toString()\n      }))\n    },\n    revalidate: 10\n  };\n} //this function will always on the server after deployment \n// export async function getServerSideProps(context){\n//     const req = context.req;\n//     const res = context.res;\n//     return {\n//         props:{\n//             meetsup:DUMMY_MEETUP\n//         },\n//     }\n// }\n\nexport default HomePage;","map":null,"metadata":{},"sourceType":"module"}