{"ast":null,"code":"//api/new-meetup\nimport { MongoClient } from 'mongodb';\n\nasync function handler(req, res) {\n  //request object contain the data of the request\n  //response object will sending back response \n  //req.method help us find what kinds of request send , whether it is post, or get \n  if (req.method === \"POST\") {\n    //like body is the data in the field \n    const data = req.body;\n    const client = await MongoClient.connect('mongodb+srv://user_0:ffang2198@cluster0.1hgvdjv.mongodb.net/?retryWrites=true&w=majority');\n    const db = client.db();\n    const meetsupCollection = db.collection('meetups'); //insert one new document into this collection\n    //the document at the end is a obejct, so we can insert JS object\n\n    const result = await meetsupCollection.insertOne(data);\n    console.log(result);\n    client.close();\n    res.status(201).json({\n      message: 'Meetup inserted'\n    });\n  }\n}\n\nexport default handler;","map":null,"metadata":{},"sourceType":"module"}